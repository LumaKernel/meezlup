meetzupというサービスとして構成せよ。
- READMEを準備。
- 予定調整を行うツール。カレンダーのグリッドの上で塗り潰すように予定を選択できる。
- 予定をみんなで入れていき、予定が会う人が多い時間帯ほど色が濃くなる。
- カレンダー側にカーソルを合わせれば、誰が予定が空いていて、逆に空いてない人がだれか、分かる。
- Next.js Server Actionsを利用。context7で最新情報を調べよ。
- prismaでセットアップ。next.jsのサーバーレスな方法でのアクセスを前提とする。
  - 本番ではpostgresqlを利用する
- 認証をAuth0で行う. https://auth0.com/docs/quickstart/webapp/nextjs/01-login を参照
- 匿名でもログインした状態でも利用できる。
- まず、イベントを作ることができる。(匿名でも)
  - 次のようなことを設定する
  - (ユニークなIDが裏で振られる)
  - イベントの名前
  - イベントの日付の候補の範囲 (範囲上限30日とかにしよう。定数の整理を忘れずに)
    - 開始日と、終了日
  - イベントの詳細説明
  - 時間帯登録の幅 (15min/30min/1h)
  - 変更期限の設定
  - 参加可能な対象の制限
    - 制限なし
    - ログイン済みアカウントのみ
    - さらにそのうち、指定したドメインに所属するアカウントのみ
      - 複数のドメインを指定できる
    - 指定したアカウントのみ (メールアドレスで直接指定。このとき,候補補完のようなものは出さない。誰が登録してるか分かるようなことはしない)
  - 権限
    - 作成者(管理者)は参加者のメールアドレスを見ることができるか。
    - 作成者以外も、他の人のメールアドレスまで見えるか、もしくは表示名だけ見えるか
    - ログインしたアカウントが作成したとき限定。そうすれば、管理者のセッションを特定可能
    - 予定を入れる人には,どのような権限が設定されているかを、登録する前に警告して、そのあとで進める形になる
  - イベントを作成すると、IDを利用したURLでアクセスできるようになる
- 予定を入れるフロー
  - 入力開始するまで:
    - イベントにアクセスする。初めて入れる場合は概要と、管理者や他の人がどういう情報までみられるか、という権限の注意事項がでる。
    - 「入力する」のようなボタンで開始できる。
    - そのイベント専用の名前を入力することができる。
    - 条件を満たさなければ、条件を表示し、ログインやアカウント切り替えの提案を提示する。
  - 入力(編集) + 確認:
    - 左右に分割されていて、左が自分の予定、右がみんなの予定も合わさったもの。
    - 左はマウスでドラッグして塗り潰すように、参加可能、不可能を簡単に切り替えられる。
      - カレンダーは、縦軸が時間帯、横軸が日付 (曜日)
        - リッチなものでなくてよく、シンプルめなグリッド。
        - オフの上から塗りはじめたら,オンを塗りたくる、逆も同様
        - クリックでも単にトグル
        - 日曜と月曜の間(週の切り替わり)は分かりやすくする
    - 右は他の人の予定を合算した状態を見ることができる。
      - より多くの人が参加できる枠が色が濃くなる
      - マウスホバーすると、左の自分の入力欄が、その枠が誰が参加できるか、の見た目になる。
      - クリックすると、フォーカス状態になって、ホバーではなく、固定して見ることができる
      - 固定すれば、ボタンが表われてCSV,JSONとしてダウンロードできる。
      - 固定した状態から解除するには、もういちどクリックするか、下のほうに「自分の予定を編集」みたいなボタンを出して,そこでも解除可能
- next-i18n を利用して多言語対応。自動判別しつつ、local-storageなどで変更を永続化、ログインユーザーならアカウント情報として記録
- Effect.tsを活用せよ。Context7で最新の利用方法を検索せよ
- storybook, storybookのtest, vitest, ミニマルな純粋関数への分解などを常に意識せよ。
- immutableな方法を意識せよ。
